id: cost
name: 工程造价 Skill
version: 0.1.0
description: 基于CAD图纸的智能工程量清单生成系统，支持图纸分析、工程量计算、定额查询和清单编制
prompt_file: prompt.md

tools:
  # CAD 数据工具
  - name: load_cad_file
    module: tools
    function: load_cad_file
    description: 加载并解析CAD文件

  - name: extract_cad_entities
    module: tools
    function: extract_cad_entities
    description: 提取CAD实体

  - name: calculate_cad_measurements
    module: tools
    function: calculate_cad_measurements
    description: 计算工程量

  # 视觉理解工具
  - name: convert_cad_to_image
    module: tools
    function: convert_cad_to_image
    description: CAD转图片

  - name: analyze_drawing_visual
    module: tools
    function: analyze_drawing_visual
    description: AI分析图纸

  - name: extract_drawing_annotations
    module: tools
    function: extract_drawing_annotations
    description: 提取标注文字

  # 计划管理工具
  - name: create_analysis_plan
    module: tools
    function: create_analysis_plan
    description: 创建分析计划

  - name: update_plan_progress
    module: tools
    function: update_plan_progress
    description: 更新任务进度

  - name: get_plan_context
    module: tools
    function: get_plan_context
    description: 获取计划上下文

  - name: add_plan_note
    module: tools
    function: add_plan_note
    description: 添加分析笔记

  # 清单编辑工具
  - name: create_boq_item
    module: tools
    function: create_boq_item
    description: 创建清单项

  - name: update_boq_item
    module: tools
    function: update_boq_item
    description: 更新清单项

  - name: query_boq
    module: tools
    function: query_boq
    description: 查询清单

  - name: calculate_boq_total
    module: tools
    function: calculate_boq_total
    description: 计算总价

  # 定额检索工具
  - name: search_quota_standard
    module: tools
    function: search_quota_standard
    description: 搜索定额标准

  - name: add_quota_to_database
    module: tools
    function: add_quota_to_database
    description: 添加定额数据

  - name: update_quota_from_search
    module: tools
    function: update_quota_from_search
    description: 从搜索结果更新定额

  # 导出工具
  - name: export_boq_to_excel
    module: tools
    function: export_boq_to_excel
    description: 导出Excel清单

  # 通用工具
  - name: web_search
    module: tools
    function: web_search
    description: 网络搜索

database:
  tables:
    - table_name: cost_cad_files
      description: CAD文件管理表

    - table_name: cost_analysis_plans
      description: 分析计划表（工作记忆）

    - table_name: cost_plan_notes
      description: 分析笔记表

    - table_name: cost_boq_items
      description: 工程量清单表

    - table_name: cost_visual_analyses
      description: 视觉分析缓存表

    - table_name: cost_quota_standards
      description: 定额标准数据表

dependencies:
  - core.database
  - core.embedding

author: Cost Estimation Team
created_at: 2026-01-30
updated_at: 2026-01-30
